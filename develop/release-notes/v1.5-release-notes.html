

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v1.5 Release Notes &mdash; Open OnDemand 1.5.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Open OnDemand 1.5.1 documentation" href="../index.html"/>
        <link rel="next" title="v1.4 Release Notes" href="v1.4-release-notes.html"/>
        <link rel="prev" title="Creating a status app" href="../app-development/tutorials-passenger-apps/ps-to-quota.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/add-cluster-config.html">Add Cluster Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/resource-manager.html">Resource Manager Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization_overview.html">Customization Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization</a></li>
</ul>
<p class="caption"><span class="caption-text">Extend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-development/interactive/setup.html">Setup Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-development.html">App Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-sharing.html">App Sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-development/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-development/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">v1.5 Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-from-v1-4">Upgrading from v1.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#infrastructure-version-changes">Infrastructure Version Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application-version-changes">Application Version Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#details">Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#add-ondemand-scl-and-use-scl-nginx-and-passenger">Add ondemand SCL and use SCL nginx and passenger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="v1.4-release-notes.html">v1.4 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3-release-notes.html">v1.3 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2-release-notes.html">v1.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1-release-notes.html">v1.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0-release-notes.html">v1.0 Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-documentation.html">User Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open OnDemand</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>v1.5 Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/release-notes/v1.5-release-notes.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v1-5-release-notes">
<span id="id1"></span><h1>v1.5 Release Notes<a class="headerlink" href="#v1-5-release-notes" title="Permalink to this headline">¶</a></h1>
<p>Highlights in 1.5:</p>
<ul class="simple">
<li><a class="reference internal" href="#add-ondemand-scl-and-use-scl-nginx-and-passenger">Add ondemand SCL and use SCL nginx and passenger</a></li>
</ul>
<div class="section" id="upgrading-from-v1-4">
<h2>Upgrading from v1.4<a class="headerlink" href="#upgrading-from-v1-4" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As always please update the <em>development</em> or <em>test</em> instances of OnDemand installed at your center first before you modify the <em>production</em> instance.</p>
</div>
<ol class="arabic">
<li><p class="first">Update OnDemand release RPM</p>
<p>CentOS/RHEL 6</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum install -y https://yum.osc.edu/ondemand/1.5/ondemand-release-web-1.5-1.el6.noarch.rpm
</pre></div>
</div>
<p>CentOS/RHEL 7</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum install -y https://yum.osc.edu/ondemand/1.5/ondemand-release-web-1.5-1.el7.noarch.rpm
</pre></div>
</div>
</li>
<li><p class="first">Update OnDemand</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum clean all
sudo yum update ondemand
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The nginx RPM used by ondemand in 1.4 is no longer maintained. If you use nginx outside of OnDemand it’s recommended to re-install using nginx from repositories such as EPEL after upgrading OnDemand to 1.5.</p>
<div class="last highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum downgrade nginx nginx-filesystem --disablerepo<span class="o">=</span>ondemand-web
</pre></div>
</div>
</div>
</li>
<li><p class="first">Optionally remove dependencies from prior versions of OOD if they are not used by other applications.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum remove nginx nginx-filesystem passenger
</pre></div>
</div>
</li>
<li><p class="first">Clean up NGINX directories from prior versions of OOD</p>
<p>The ondemand RPM should have copied all the nginx configurations, tmp files and logs from their previous locations to their new locations if the defaults were not changed. Once the functionality of the OnDemand 1.5 upgrade is verified it is safe to remove these old paths.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the host running OnDemand has other applications using NGINX then special care needs to be taken not to delete files belonging to the other applications.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">At the very minimum <code class="docutils literal notranslate"><span class="pre">/var/lib/nginx/config</span></code> needs to be deleted as that path is used by the ondemand RPM to determine if upgrades are taking place from 1.4 to 1.5.</p>
</div>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo rm -rf /var/lib/nginx/config
sudo rm -rf /var/tmp/nginx/*
sudo rm -rf /var/log/nginx/*
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="infrastructure-version-changes">
<h2>Infrastructure Version Changes<a class="headerlink" href="#infrastructure-version-changes" title="Permalink to this headline">¶</a></h2>
<p>OnDemand’s infrastructure components have been merged into a monolithic repository. Component changelogs have been frozen and the parent repository will now track all infrastructure changes: <a class="reference external" href="https://github.com/OSC/ondemand/blob/v1.5.1/CHANGELOG.md">OnDemand 1.5.1</a>. <a class="reference external" href="https://github.com/OSC/ondemand/compare/v1.4.10...v1.5.1">Diff with 1.4.10</a></p>
</div>
<div class="section" id="application-version-changes">
<h2>Application Version Changes<a class="headerlink" href="#application-version-changes" title="Permalink to this headline">¶</a></h2>
<span id="v1-5-app-versions"></span><table border="1" class="colwidths-auto docutils" id="id2">
<caption><span class="caption-number">Table 10 </span><span class="caption-text">Application Versions</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">App</th>
<th class="head">Version</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><cite>Dashboard App</cite></th>
<td>1.30.2 → <a class="reference external" href="https://github.com/OSC/ood-dashboard/blob/v1.31.0/CHANGELOG.md">1.31.0</a>
(<a class="reference external" href="https://github.com/OSC/ood-dashboard/compare/v1.30.2...v1.31.0">diff</a>)</td>
</tr>
<tr class="row-odd"><th class="stub"><cite>Shell App</cite></th>
<td>Unchanged</td>
</tr>
<tr class="row-even"><th class="stub"><cite>Files App</cite></th>
<td>Unchanged</td>
</tr>
<tr class="row-odd"><th class="stub"><cite>File Editor App</cite></th>
<td>Unchanged</td>
</tr>
<tr class="row-even"><th class="stub"><cite>Active Jobs App</cite></th>
<td>1.6.9 → <a class="reference external" href="https://github.com/OSC/ood-activejobs/blob/v1.7.0/CHANGELOG.md">1.7.0</a>
(<a class="reference external" href="https://github.com/OSC/ood-activejobs/compare/v1.6.9...v1.7.0">diff</a>)</td>
</tr>
<tr class="row-odd"><th class="stub"><cite>Job Composer App</cite></th>
<td>2.10.2 → <a class="reference external" href="https://github.com/OSC/ood-myjobs/blob/v2.11.0/CHANGELOG.md">2.11.0</a>
(<a class="reference external" href="https://github.com/OSC/ood-myjobs/compare/v2.10.2...v2.11.0">diff</a>)</td>
</tr>
<tr class="row-even"><th class="stub"><cite>Desktops App</cite></th>
<td>Unchanged</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#v1-5-app-versions"><span class="std std-numref">Table 10</span></a> lists the versions as well as the previous version
it was updated from for each of the system web applications in this release.</p>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-ondemand-scl-and-use-scl-nginx-and-passenger">
<h3>Add ondemand SCL and use SCL nginx and passenger<a class="headerlink" href="#add-ondemand-scl-and-use-scl-nginx-and-passenger" title="Permalink to this headline">¶</a></h3>
<p>This upgrade adds a new <code class="docutils literal notranslate"><span class="pre">ondemand</span></code> software collection that is the only software collection needed to interact with OnDemand. This new softare collection will load all the collections needed by OnDemand. The Passenger and NGINX dependencies have been repackaged under this new <code class="docutils literal notranslate"><span class="pre">ondemand</span></code> SCL so those packages will no longer interfere with Passenger of NGINX packages from other repositories.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<dl class="last docutils">
<dt>Several NGINX directories used by OnDemand have changed.</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">/var/lib/nginx</span></code> to <code class="docutils literal notranslate"><span class="pre">/var/lib/ondemand-nginx</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">/var/tmp/nginx</span></code> to <code class="docutils literal notranslate"><span class="pre">/var/tmp/ondemand-nginx</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">/var/log/nginx</span></code> to <code class="docutils literal notranslate"><span class="pre">/var/log/ondemand-nginx</span></code></li>
</ul>
</dd>
</dl>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.4-release-notes.html" class="btn btn-neutral float-right" title="v1.4 Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../app-development/tutorials-passenger-apps/ps-to-quota.html" class="btn btn-neutral" title="Creating a status app" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Ohio Supercomputer Center.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/master/release-notes/v1.5-release-notes.html">master</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/release-notes/v1.5-release-notes.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/release-notes/v1.5-release-notes.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/release-notes/v1.5-release-notes.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/release-notes/v1.5-release-notes.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/release-notes/v1.5-release-notes.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/release-notes/v1.5-release-notes.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.5.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>