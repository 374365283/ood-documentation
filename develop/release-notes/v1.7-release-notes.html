

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v1.7 Release Notes &mdash; Open OnDemand 1.7.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="v1.6 Release Notes" href="v1.6-release-notes.html" />
    <link rel="prev" title="Creating a Status App" href="../app-development/tutorials-passenger-apps/ps-to-quota.html" />
 
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-34776817-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-34776817-3');
</script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/add-cluster-config.html">Add Cluster Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/resource-manager.html">Resource Manager Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization_overview.html">Customization Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analytics.html">Analytics</a></li>
</ul>
<p class="caption"><span class="caption-text">Extend</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-development/interactive/setup.html">Setup Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../enable-desktops.html">Enable Interactive Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Deploy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-authorization.html">App Authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-sharing.html">App Sharing</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop Interactive Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-development.html">App Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-development/tutorials-interactive-apps.html">Tutorials: Interactive Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Develop Passenger Apps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-development/tutorials-passenger-apps.html">Tutorials: Passenger Apps</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">v1.7 Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#upgrading-from-v1-6">Upgrading from v1.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#details">Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#support-running-ondemand-with-selinux">Support running OnDemand with SELinux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-passenger-and-nginx-dependencies">Update Passenger and NGINX dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-ruby-and-nodejs-dependencies">Update Ruby and NodeJS dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drop-el6-and-add-el8-support">Drop EL6 and add EL8 support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="v1.6-release-notes.html">v1.6 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.5-release-notes.html">v1.5 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.4-release-notes.html">v1.4 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.3-release-notes.html">v1.3 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.2-release-notes.html">v1.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.1-release-notes.html">v1.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1.0-release-notes.html">v1.0 Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Known Issues</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../issues/overview.html">OnDemand’s Known Issues</a></li>
</ul>
<p class="caption"><span class="caption-text">Legacy Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-documentation.html">User Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open OnDemand</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>v1.7 Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/develop/source/release-notes/v1.7-release-notes.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v1-7-release-notes">
<span id="id1"></span><h1>v1.7 Release Notes<a class="headerlink" href="#v1-7-release-notes" title="Permalink to this headline">¶</a></h1>
<p>Highlights in 1.7:</p>
<ul class="simple">
<li><a class="reference internal" href="#support-running-ondemand-with-selinux">Support running OnDemand with SELinux</a></li>
<li><a class="reference internal" href="#update-passenger-and-nginx-dependencies">Update Passenger and NGINX dependencies</a></li>
<li><a class="reference internal" href="#update-ruby-and-nodejs-dependencies">Update Ruby and NodeJS dependencies</a></li>
<li><a class="reference internal" href="#drop-el6-and-add-el8-support">Drop EL6 and add EL8 support</a></li>
</ul>
<div class="section" id="upgrading-from-v1-6">
<h2>Upgrading from v1.6<a class="headerlink" href="#upgrading-from-v1-6" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If upgrading from OnDemand 1.3.x or older you must upgrade to 1.6.x before upgrading to 1.7.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As always please update the <em>development</em> or <em>test</em> instances of OnDemand installed at your center first before you modify the <em>production</em> instance.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Because of a change in Passenger versions and Ruby versions it is necessary that all PUNs running before the upgrade be restarted after the upgrade. It’s recommended to schedule an short outage of your OnDemand instance to perform this upgrade.</p>
</div>
<ol class="arabic">
<li><p class="first">Update OnDemand release RPM</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum install -y https://yum.osc.edu/ondemand/1.7/ondemand-release-web-1.7-1.noarch.rpm
</pre></div>
</div>
</li>
<li><p class="first">Update OnDemand</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum clean all
sudo yum update ondemand
</pre></div>
</div>
</li>
<li><p class="first">Force all PUNs to restart</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo /opt/ood/nginx_stage/sbin/nginx_stage nginx_clean -f
</pre></div>
</div>
</li>
<li><p class="first">Optionally remove old dependencies from prior versions of OOD if they are not used by other applications.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo yum remove rh-ruby24<span class="se">\*</span> rh-nodejs6<span class="se">\*</span> rh-git29<span class="se">\*</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="support-running-ondemand-with-selinux">
<h3>Support running OnDemand with SELinux<a class="headerlink" href="#support-running-ondemand-with-selinux" title="Permalink to this headline">¶</a></h3>
<p>Beta support for running OnDemand with SELinux has been added. Support is enabled by installing the <code class="docutils literal notranslate"><span class="pre">ondemand-selinux</span></code> package. For details see <a class="reference internal" href="../installation/modify-system-security.html#ood-selinux"><span class="std std-ref">SELinux</span></a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">ondemand-selinux</span></code> package was installed from the OnDemand 1.6 release there are several changes that must be addressed manually.  Several SELinux booleans were enabled by the <code class="docutils literal notranslate"><span class="pre">ondemand-selinux</span></code> package and are no longer needed by OnDemand. The following SELinux booleans can be disabled if not used outside OnDemand:</p>
<div class="last highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo setsebool -P <span class="nv">httpd_execmem</span><span class="o">=</span>off
sudo setsebool -P <span class="nv">httpd_unified</span><span class="o">=</span>off
sudo setsebool -P <span class="nv">httpd_enable_homedirs</span><span class="o">=</span>off
sudo setsebool -P <span class="nv">httpd_read_user_content</span><span class="o">=</span>off
</pre></div>
</div>
</div>
</div>
<div class="section" id="update-passenger-and-nginx-dependencies">
<h3>Update Passenger and NGINX dependencies<a class="headerlink" href="#update-passenger-and-nginx-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Passenger has been upgraded from <code class="docutils literal notranslate"><span class="pre">5.3.7</span></code> to <code class="docutils literal notranslate"><span class="pre">6.0.4</span></code>. NGINX has been upgraded from <code class="docutils literal notranslate"><span class="pre">1.14.0</span></code> to <code class="docutils literal notranslate"><span class="pre">1.17.3</span></code>.</p>
</div>
<div class="section" id="update-ruby-and-nodejs-dependencies">
<h3>Update Ruby and NodeJS dependencies<a class="headerlink" href="#update-ruby-and-nodejs-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The Ruby verion used by OnDemand has been upgraded from <code class="docutils literal notranslate"><span class="pre">2.4</span></code> to <code class="docutils literal notranslate"><span class="pre">2.5</span></code>. The NodeJS version used by OnDemand has been upgraded from <code class="docutils literal notranslate"><span class="pre">6</span></code> to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="drop-el6-and-add-el8-support">
<h3>Drop EL6 and add EL8 support<a class="headerlink" href="#drop-el6-and-add-el8-support" title="Permalink to this headline">¶</a></h3>
<p>OnDemand has dropped support for CentOS/RedHat 6 and added support for CentOS/RedHat 8.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="v1.6-release-notes.html" class="btn btn-neutral float-right" title="v1.6 Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../app-development/tutorials-passenger-apps/ps-to-quota.html" class="btn btn-neutral float-left" title="Creating a Status App" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2019, Ohio Supercomputer Center

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Documentation Versions</span>
    v: 
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="https://OSC.github.io/ood-documentation/master/release-notes/v1.7-release-notes.html">master</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.6/release-notes/v1.7-release-notes.html">1.6</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.5/release-notes/v1.7-release-notes.html">1.5</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.4/release-notes/v1.7-release-notes.html">1.4</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.3/release-notes/v1.7-release-notes.html">1.3</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.2/release-notes/v1.7-release-notes.html">1.2</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.1/release-notes/v1.7-release-notes.html">1.1</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/release-1.0/release-notes/v1.7-release-notes.html">1.0</a></dd>
      
        <dd><a href="https://OSC.github.io/ood-documentation/develop/release-notes/v1.7-release-notes.html">develop</a></dd>
      
    </dl>
    <dl>
      <dt>On GitHub</dt>
        <dd>
          <a href="http://openondemand.org/">Website</a>
        </dd>
        <dd>
          <a href="https://github.com/OSC/Open-OnDemand">Main Repo</a>
        </dd>
    </dl>
    <hr/>
    Theme provided by <a href="http://www.readthedocs.org">Read the Docs</a>.
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>