

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Update Applications &mdash; Open OnDemand 1.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Open OnDemand 1.2.0 documentation" href="../index.html"/>
        <link rel="up" title="Updating" href="../updating.html"/>
        <link rel="next" title="3. Update Desktops" href="update-desktops.html"/>
        <link rel="prev" title="1.4. Update Mapping Script" href="update-mapping-script.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Open OnDemand
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">What is Open OnDemand</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-desktops.html">Install Desktops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-ihpc-apps.html">Install Other Interactive Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../updating.html">Updating</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="update-infrastructure.html">1. Update Infrastructure</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. Update Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#do-i-need-to-update">2.1. Do I need to update?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instructions-to-update">2.2. Instructions to update</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="update-desktops.html">3. Update Desktops</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../infrastructure.html">Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-documentation.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app-development.html">App Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v1.2-release-notes.html">v1.2 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v1.1-release-notes.html">v1.1 Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/v1.0-release-notes.html">v1.0 Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open OnDemand</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../updating.html">Updating</a> &raquo;</li>
        
      <li>2. Update Applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/OSC/ood-documentation/blob/release-1.2/source/updating/update-apps.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="update-applications">
<span id="update-apps"></span><h1>2. Update Applications<a class="headerlink" href="#update-applications" title="Permalink to this headline">¶</a></h1>
<p>If there is an OOD update it is almost guaranteed that there will be web
application updates. So it is recommended to always perform these steps when
updating your OOD installation. The apps installation is handled by a script
that is maintained by the <a class="reference external" href="https://github.com/OSC/ood-apps-installer">ood-apps-installer</a> project.</p>
<p>The following steps assume you previously installed the apps following the
<a class="reference internal" href="../installation/install-apps.html#install-apps"><span class="std std-ref">Install Applications</span></a> procedures.</p>
<div class="section" id="do-i-need-to-update">
<h2>2.1. Do I need to update?<a class="headerlink" href="#do-i-need-to-update" title="Permalink to this headline">¶</a></h2>
<p>Most likely, <strong>yes</strong>.</p>
</div>
<div class="section" id="instructions-to-update">
<h2>2.2. Instructions to update<a class="headerlink" href="#instructions-to-update" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Make backups of your locally installed copies of the apps. This is a
<strong>highly recommended</strong> since app configuration is located underneath the
installation directory of each app (may change in the future). So if
something goes wrong, we don’t want to lose your custom setup.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>cp -r /var/www/ood/apps/sys /path/to/backup/location
</pre></div>
</div>
<p>This step may take awhile but it is worth it.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If this is a development or test instance of OOD and you already version
your custom configuration files for the various apps then you can
probably skip this step.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The various OOD apps can support custom configuration files at:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">{dashboard,activejobs,myjobs,file-editor}/.env.local</span></code></li>
<li><code class="docutils literal"><span class="pre">{shell,files}/.env</span></code></li>
<li><code class="docutils literal"><span class="pre">dashboard/config/initializers/ood.rb</span></code></li>
<li><code class="docutils literal"><span class="pre">activejobs/config/initializers/filter.rb</span></code></li>
<li><code class="docutils literal"><span class="pre">myjobs/templates/</span></code></li>
<li><code class="docutils literal"><span class="pre">bc_desktop/local/</span></code></li>
</ul>
<p class="last">If these exist for your installation please version these at your center
and back them up.</p>
</div>
</li>
<li><p class="first">Fetch the latest changes and check out the latest tag:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/ood/src/apps
scl <span class="nb">enable</span> git19 -- git fetch
scl <span class="nb">enable</span> git19 -- git checkout v1.2.0
</pre></div>
</div>
</li>
<li><p class="first">Confirm that the local configuration files for the various apps exist under
the appropriate app build directory as <code class="file docutils literal"><span class="pre">build/</span><em><span class="pre">app_dir</span></em><span class="pre">/...</span></code>.</p>
</li>
<li><p class="first">Rebuild the apps (may take ~15 min):</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>scl <span class="nb">enable</span> rh-ruby22 nodejs010 git19 -- rake
</pre></div>
</div>
</li>
<li><p class="first">Finally, we install the apps to their system location at
<code class="docutils literal"><span class="pre">/var/www/ood/apps/sys</span></code> with:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>sudo scl <span class="nb">enable</span> rh-ruby22 -- rake install
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="update-desktops.html" class="btn btn-neutral float-right" title="3. Update Desktops" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="update-mapping-script.html" class="btn btn-neutral" title="1.4. Update Mapping Script" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ohio Supercomputer Center.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.2.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>